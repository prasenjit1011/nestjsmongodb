<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>NodeJS</title>
  <style>
    body {
      margin: 0;
      font-family: monospace;
    }

    .menu {
      background: #333;
      color: white;
      padding: 10px;
    }

    .menu a {
      color: #fff;
      margin-right: 10px;
      text-decoration: none;
    }

    .container {
      display: flex;
      height: calc(100vh - 50px);
    }

    pre.code-block, pre.output-block {
      flex: 1;
      margin: 0;
      padding: 15px;
      overflow: auto;
    }

    pre.code-block {
      flex-basis:  70%;
      background: #000;
      color: #fff;
      border-right: 1px solid #ccc;
    }

    pre.output-block {
      flex-basis: 30%;
      background: #272822;
      color: #fff;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

  <div class="menu">
    <a href="/doctor/index.html">Nodejs</a>
    <a href="/doctor/react.html">React</a>
    <a href="/doctor/docker.html">Docker</a>
    <a href="/doctor/cmd.html">CMD</a>
    <a href="/doctor/kafka.html">Kafka</a>
    <a href="kafka-interview.html">Kafka Interview</a>
    <a href="mongodb.html">Mongo DB</a>
    <a href="code.html">Promise</a>
    <a href="coding.html">Coding</a>
    <a href="https://onecompiler.com/nodejs/43hqq7r87" target="_blank">Live Coding</a>
  </div>

  <div class="container">
    <pre class="code-block"><code>
      ---------- Example 01 ----------
      Array.prototype.double = function () {
        return this.map(x => x * 2);
      };
      
      const a = [1, 2, 3];
      console.log(a.double()); // [2, 4, 6]
      




      ---------- Example 02 ----------

      const arr = [1,2,3,4,5,9]
      const length = arr.length;
      const target = 6;
      const result = [];
      
      for(let i = 0; i< length; i++){
        for(let j=i+1; j< length; j++){
          if(arr[i]+arr[j] == target){
            result.push([arr[i],arr[j]]);
          }
        }
      }
      
      console.log(result)
      
      
      



      ---------- Example 03 ----------

      var obj = { a: 5, b: { c: 6, d: { e: 2 } } };
      var keys = [];
      
      getKeys(obj)
      
      function getKeys(obj){
        for(let val in obj){
          keys.push(val)
          if(typeof obj[val] === 'object'){
            getKeys(obj[val]);
          }
        }
      }
      
      console.log(keys);
      [ 'a', 'b', 'c', 'd', 'e' ]
      


      ------------------------------------------------------

      var obj = { a: 5, b: { c: 6, d: { e: 2 } } };
      const result = [];     
      getKeys(obj);
      
      function getKeys(obj){
        Object.entries(obj).map((value, key)=>{
          result.push(value[0]);
          if(typeof value[1] == 'object'){
            getKeys(value[1]);
          }
        })
      }
      
      console.log(result);





      ---------- Example 04 ----------

      const p1 = Promise.resolve(1);
      const p2 = Promise.resolve(2);
      const p3 = Promise.resolve(3);

      Promise.all([p1, p2, p3])
        .then(results => {
          output("All success: " + JSON.stringify(results));
        })
        .catch(err => {
          output("One failed: " + err);
        });


    --------------------------------------------------------------


        async function fetchData() {
          try {
            const results = await Promise.all([p1, p2, p3]);
            output("All success1: " + JSON.stringify(results));
          } catch (err) {
            output("One failed1: " + err);
          }
        }
        
        fetchData();







    ---------- Example 05 ----------

    const x1 = { a: 1, b: 4, c: 8, d: 2, f: 3 };
    const y1 = Object.entries(x1)
    const max = Math.max(...Object.values(x1));
    const z1 = y1.find((val)=> {
      if(val[1] == max){
        return true;
      }
    })
    
    console.log('Largest Number with key : ',x1, z1, max); 
    // Output: 8, [ 'c', 8 ]








    ---------- Example 06 ----------

    // aaaabbccccddccffaaccbbf => 
    // a4b2c3d3
    // { a: 6, b: 4, c: 8, d: 2, f: 3 }
    
    // "I Love Riyan" => "I evoL nayiR"
    // Anagrams : "listen", "silent" => true
    // isPalindrome : madam : true
    // developer => Output: Vowels: 4, Consonants: 5
    // Longest words : I am learning JavaScript
    // Replace Digits with #
    // Rearrange Characters Alphabetically
    // remove all vowels
    
    let arr21 = [[1, 2], [3,2, 4], [5]];
    

    
    
    console.log('Reverse Integer Array Element : ', 
      [12,13,14], ' => ',
      [12,13,14].map((val)=>{
        return +String(val).split('').reverse().join('');;
      })
    )
    
    console.log('Reduce to flat a array', arr21, '=>',
      [[1, 2], [3, 4], [5]].reduce((acc, val) => acc.concat(val), [])
    );
    
    console.log('Map and Filter', '\n',
      [1,2,3,4,5,6].map((val)=> val%2 == 0), '\n',
      [1,2,3,4,5,6].filter((val)=> val%2 == 0),
    )
    
    console.log('1. Array Sort ', 
      [-5,1,44,9].sort((a,b)=>a-b)
    )
    
    console.log("2. Array Map and Filter ",
      [2, 5, 22, 3, 33].map(val => (val > 10 ? val : undefined)).filter(val => val !== undefined)
    )
    
    console.log("3. Multi Dimension Array to Single Dimension",
      [1, [2, [3, 4], 5]].flat(Infinity))
    
    console.log("4. Remove all vowels : ",
      "Hello World".replace(/[aeiou]/gi, '')); 
    
    console.log("5. Rearrange Characters Alphabetically : ",
      "zyxabc".split('').sort().join('')
    ); 
    
    console.log("6. Replace Digits with # : ",
      "a1b2c3".replace(/\d/g, '#')
    )
    
    console.log("7. Find Longest Word : ", 
      "I love riyan".split(' ').reduce((longest, word) => word.length > longest.length ? word : longest)
    );
    
    console.log("8. isPalindrome : ",
      isPalindrome("kayak")
    )
    
    // Example 06
    function countVowelsAndConsonants(str) {
      const vowels = 'aeiou';
      let vowelCount = 0;
      let consonantCount = 0;
    
      for (let char of str.toLowerCase()) {
        if (/[a-z]/.test(char)) { // only check alphabetic characters
          if (vowels.includes(char)) {
            vowelCount++;
          } else {
            consonantCount++;
          }
        }
      }
    
      return `8. Vowels: ${vowelCount}, Consonants: ${consonantCount}`;
    }
    
    
    console.log(countVowelsAndConsonants("developer")); 
    // Output: Vowels: 4, Consonants: 5
    
    // Example 03 // I evoL nayiR
    let str = "I Love Riyan"; 
    console.log('9.',str, ' => ', str.split(' ').map(word => word.split('').reverse().join('')).join(' '));
    
    
    
    // Example 05 : isPalindrome
    function isPalindrome(str) {
      return str === str.split('').reverse().join('');
    }
    
    
    // Example 04 : Anagrams
    function areAnagrams(str1, str2) {
      const normalize = str => str.toLowerCase().split('').sort().join('');
      return normalize(str1) === normalize(str2);
    }
    
    console.log(areAnagrams("listen", "silent")); // Output: true
    console.log(areAnagrams("hello", "world"));   // Output: false
    
    
    console.log('------------------------');
    const str4 = "aaabbbaaacddddee";
    const arr = {};
    for(let chr of str4){
      if(!arr[chr]){
        arr[chr] = 0;
      }
      arr[chr]++;
    }
    
    
    let str1 = str4.split('').filter(char => arr[char] == 1).join('');
    console.log('Str One : ',str1)
    console.log('------------------------');
    
    const str5 = "hello328888**********22**";
    const count = {};
    
    for (const char of str5) {
      count[char] = (count[char] || 0) + 1;
    }
    
    let maxChar = '';
    let maxCount = 0;
    
    for (const char in count) {
      if (count[char] > maxCount) {
        maxChar = char;
        maxCount = count[char];
      }
    }
    
    console.log(`Max character: ${maxChar}, Count: ${maxCount}`); 
    console.log('------------------------');
    
    
    // Example 01
    function compressString(str) {
      str = str.toLowerCase();
      const countMap = {};
      const order = [];
    
      for (let ch of str) {
        if (!countMap[ch]) {
          countMap[ch] = 1;
          order.push(ch);
        } else {
          countMap[ch]++;
        }
      }
      
      console.log(countMap)
    
      let result = "";
      let str1   = "";
      for (let ch of order) {
        result += ch + countMap[ch];
        str1 += ch;
      }
    
      //console.log(str1)
      return result;
    }
    
    console.log(compressString("aaaabbccccddccffaaccbbf")); // a4b2c3d3
    
    
    // Example 02
    function removeConsecutiveDuplicates(str) {
      return str.replace(/(.)\1+/g, '$1');
    }
    
    console.log(removeConsecutiveDuplicates("aaabbcaacccdee")); // Output: "abcde"
    
    
    console.log('------------------------');
    
    async function main() {
      console.log('A');
      await new Promise(resolve => {
        setImmediate(() => {
          console.log('B');
          resolve();
        });
      });
      console.log('C');
    }
    
    console.log('D');
    main();
    console.log('E');
    
    //Given an integer array nums, find three numbers whose product is maximum and return the maximum product.
    
    
    console.log(maximumProduct([2,4,-6,9,-10]))
    
    function maximumProduct(nums) {
      let max1 = -Infinity, max2 = -Infinity, max3 = -Infinity;
      let min1 = Infinity, min2 = Infinity;
    
      for (let n of nums) {
        if (n > max1) [max3, max2, max1] = [max2, max1, n];
        else if (n > max2) [max3, max2] = [max2, n];
        else if (n > max3) max3 = n;
    
        if (n < min1) [min2, min1] = [min1, n];
        else if (n < min2) min2 = n;
      }
    
      console.log(min1 , min2 , max1)
      return Math.max(max1 * max2 * max3, min1 * min2 * max1);
    }
    
    
    const primes = [];
    for (let n = 2; n < 9; n++) {
      if (![...Array(n - 2)].some((_, i) => n % (i + 2) === 0)){primes.push(n)} 
    }
    console.log(primes);
    
    //chkPrime(35)
    
    function chkPrime(number){
      for (let num = 2; num < number; num++) {
        let isPrime = true;
      
        for (let i = 2; i < num; i++) {
          if (num % i === 0) {
            isPrime = false;
            break;
          }
        }
      
        if (isPrime) {
          console.log(num);
        }
      }
    }
    
    
  </code></pre>



    <pre id="output" class="output-block"></pre>
  </div>

  <!-- âœ… Place JavaScript code here -->
  <script>
    const p1 = Promise.resolve(1);
    const p2 = Promise.resolve(2);
    const p3 = Promise.resolve(3);

    Promise.all([p1, p2, p3])
      .then(results => {
        output("All success: " + JSON.stringify(results));
      })
      .catch(err => {
        output("One failed: " + err);
      });


      async function fetchData() {
          try {
            const results = await Promise.all([p1, p2, p3]);
            console.log("All success1: " + JSON.stringify(results));
          } catch (err) {
            console.log("One failed1: " + err);
          }
        }
        
        fetchData();

    function output(text) {
      document.getElementById("output").textContent += text + "\n";
    }
  </script>
  <script>
// aaaabbccccddccffaaccbbf => 
// a4b2c3d3
// { a: 6, b: 4, c: 8, d: 2, f: 3 }

// "I Love Riyan" => "I evoL nayiR"
// Anagrams : "listen", "silent" => true
// isPalindrome : madam : true
// developer => Output: Vowels: 4, Consonants: 5
// Longest words : I am learning JavaScript
// Replace Digits with #
// Rearrange Characters Alphabetically
// remove all vowels

let arr21 = [[1, 2], [3,2, 4], [5]];

const x1 = { a: 1, b: 4, c: 8, d: 2, f: 3 };
const y1 = Object.entries(x1)
const max = Math.max(...Object.values(x1));
const z1 = y1.find((val)=> {
  if(val[1] == max){
    return true;
  }
})

console.log('Largest Number with key : ',x1, z1, max); // Output: 8, [ 'c', 8 ]


console.log('Reverse Integer Array Element : ', 
  [12,13,14], ' => ',
  [12,13,14].map((val)=>{
    return +String(val).split('').reverse().join('');;
  })
)

console.log('Reduce to flat a array', arr21, '=>',
  [[1, 2], [3, 4], [5]].reduce((acc, val) => acc.concat(val), [])
);

console.log('Map and Filter', '\n',
  [1,2,3,4,5,6].map((val)=> val%2 == 0), '\n',
  [1,2,3,4,5,6].filter((val)=> val%2 == 0),
)

console.log('1. Array Sort ', 
  [-5,1,44,9].sort((a,b)=>a-b)
)

console.log("2. Array Map and Filter ",
  [2, 5, 22, 3, 33].map(val => (val > 10 ? val : undefined)).filter(val => val !== undefined)
)

console.log("3. Multi Dimension Array to Single Dimension",
  [1, [2, [3, 4], 5]].flat(Infinity))

console.log("4. Remove all vowels : ",
  "Hello World".replace(/[aeiou]/gi, '')); 

console.log("5. Rearrange Characters Alphabetically : ",
  "zyxabc".split('').sort().join('')
); 

console.log("6. Replace Digits with # : ",
  "a1b2c3".replace(/\d/g, '#')
)

console.log("7. Find Longest Word : ", 
  "I love riyan".split(' ').reduce((longest, word) => word.length > longest.length ? word : longest)
);

console.log("8. isPalindrome : ",
  isPalindrome("kayak")
)

// Example 06
function countVowelsAndConsonants(str) {
  const vowels = 'aeiou';
  let vowelCount = 0;
  let consonantCount = 0;

  for (let char of str.toLowerCase()) {
    if (/[a-z]/.test(char)) { // only check alphabetic characters
      if (vowels.includes(char)) {
        vowelCount++;
      } else {
        consonantCount++;
      }
    }
  }

  return `8. Vowels: ${vowelCount}, Consonants: ${consonantCount}`;
}


console.log(countVowelsAndConsonants("developer")); 
// Output: Vowels: 4, Consonants: 5

// Example 03 // I evoL nayiR
let str = "I Love Riyan"; 
console.log('9.',str, ' => ', str.split(' ').map(word => word.split('').reverse().join('')).join(' '));



// Example 05 : isPalindrome
function isPalindrome(str) {
  return str === str.split('').reverse().join('');
}


// Example 04 : Anagrams
function areAnagrams(str1, str2) {
  const normalize = str => str.toLowerCase().split('').sort().join('');
  return normalize(str1) === normalize(str2);
}

console.log(areAnagrams("listen", "silent")); // Output: true
console.log(areAnagrams("hello", "world"));   // Output: false


console.log('------------------------');
const str4 = "aaabbbaaacddddee";
const arr = {};
for(let chr of str4){
  if(!arr[chr]){
    arr[chr] = 0;
  }
  arr[chr]++;
}


let str1 = str4.split('').filter(char => arr[char] == 1).join('');
console.log('Str One : ',str1)
console.log('------------------------');

const str5 = "hello328888**********22**";
const count = {};

for (const char of str5) {
  count[char] = (count[char] || 0) + 1;
}

let maxChar = '';
let maxCount = 0;

for (const char in count) {
  if (count[char] > maxCount) {
    maxChar = char;
    maxCount = count[char];
  }
}

console.log(`Max character: ${maxChar}, Count: ${maxCount}`); 
console.log('------------------------');


// Example 01
function compressString(str) {
  str = str.toLowerCase();
  const countMap = {};
  const order = [];

  for (let ch of str) {
    if (!countMap[ch]) {
      countMap[ch] = 1;
      order.push(ch);
    } else {
      countMap[ch]++;
    }
  }
  
  console.log(countMap)

  let result = "";
  let str1   = "";
  for (let ch of order) {
    result += ch + countMap[ch];
    str1 += ch;
  }

  //console.log(str1)
  return result;
}

console.log(compressString("aaaabbccccddccffaaccbbf")); // a4b2c3d3


// Example 02
function removeConsecutiveDuplicates(str) {
  return str.replace(/(.)\1+/g, '$1');
}

console.log(removeConsecutiveDuplicates("aaabbcaacccdee")); // Output: "abcde"


console.log('------------------------');

async function main() {
  console.log('A');
  await new Promise(resolve => {
    setImmediate(() => {
      console.log('B');
      resolve();
    });
  });
  console.log('C');
}

console.log('D');
main();
console.log('E');

//Given an integer array nums, find three numbers whose product is maximum and return the maximum product.


console.log(maximumProduct([2,4,-6,9,-10]))

function maximumProduct(nums) {
  let max1 = -Infinity, max2 = -Infinity, max3 = -Infinity;
  let min1 = Infinity, min2 = Infinity;

  for (let n of nums) {
    if (n > max1) [max3, max2, max1] = [max2, max1, n];
    else if (n > max2) [max3, max2] = [max2, n];
    else if (n > max3) max3 = n;

    if (n < min1) [min2, min1] = [min1, n];
    else if (n < min2) min2 = n;
  }

  console.log(min1 , min2 , max1)
  return Math.max(max1 * max2 * max3, min1 * min2 * max1);
}


const primes = [];
for (let n = 2; n < 9; n++) {
  if (![...Array(n - 2)].some((_, i) => n % (i + 2) === 0)){primes.push(n)} 
}
console.log(primes);

//chkPrime(35)

function chkPrime(number){
  for (let num = 2; num < number; num++) {
    let isPrime = true;
  
    for (let i = 2; i < num; i++) {
      if (num % i === 0) {
        isPrime = false;
        break;
      }
    }
  
    if (isPrime) {
      console.log(num);
    }
  }
}


    
  </script>

</body>
</html>
